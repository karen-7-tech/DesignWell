<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Campus Virtual - Python</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="campus.css">
</head>
<body>

<nav class="navbar">
  <span class="navbar-text">Bienvenido al Campus EducaciónIT</span>
  <div class="dropdown">
    <a class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" href="#" id="dropdownUser" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-person-circle user-icon"></i>
      <span class="ms-2">Usuario</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownUser">
      <li><a class="dropdown-item" href="../../mis_cursos.html"><i class="bi bi-journal-text me-2"></i>Mis cursos</a></li>
      <li><a class="dropdown-item" href="../../index.html"><i class="bi bi-box-arrow-right me-2"></i>Salir</a></li>
    </ul>
  </div>
</nav>

<div class="campus-container">
  <aside class="sidebar">
    <h4>Python</h4>
    <ul class="list-group" id="lista-modulos"></ul>
  </aside>

  <main class="content d-flex flex-column justify-content-center align-items-center text-center">
    <div id="pantalla-inicial">
      <h2>Bienvenid@ al Curso de Python</h2>
      <p class="mt-3">
        En este curso aprenderás Python desde lo más básico hasta conceptos avanzados.
        Contamos con <strong>5 módulos</strong> que incluyen:
      </p>
      <ul class="text-start mx-auto" style="max-width:500px;">
        <li>Introducción y conceptos básicos</li>
        <li>Variables y tipos de datos</li>
        <li>Control de flujo</li>
        <li>Condicionales y listas</li>
        <li>Diccionarios y tuplas</li>
      </ul>
      <p class="mt-3">
        Ante cualquier duda, podés escribir al correo de la profesora <strong>María Lopez</strong>: 
        <a href="mailto:maria.lopez@educacionit.com">maria.lopez@educacionit.com</a>
      </p>
      <button id="btn-comenzar" class="btn btn-primary mt-3">Comenzar</button>
    </div>

    <div id="contenido-curso" style="display:none; width:100%;">
      <h2 id="titulo-leccion"></h2>
      <div id="contenido-leccion"></div>
      <div class="d-flex justify-content-end">
        <button id="btn-siguiente" class="btn btn-primary mt-3" onclick="siguienteTema()" disabled>Siguiente</button>
      </div>
    </div>

    <button id="btn-evaluacion" class="btn btn-warning mt-3" onclick="window.location.href='prueba.html'" style="display:none;">
      Realizar Evaluación Final
    </button>
  </main>
</div>

<script>
const curso = [
  {
    titulo: "Módulo 1: Introducción",
    temas: [
      {
        titulo: "Instalación de Python",
        contenido: `
          <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/2BMaxJQxQ6U" title="Video Instalación de Python" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container text-center" style="max-width: 800px; margin: 0 auto;">
            <h3>Proceso de Instalación y Primeros Pasos</h3>
            <p>
              Instalar Python en tu computadora es un paso fundamental si deseas comenzar a programar o ejecutar scripts y aplicaciones que dependan de este lenguaje. Python es un lenguaje de programación de alto nivel, muy popular por su simplicidad, legibilidad y versatilidad, utilizado tanto por principiantes como por profesionales en desarrollo web, análisis de datos, inteligencia artificial, automatización y muchas otras áreas. A continuación, se detalla el proceso de instalación de Python en los sistemas operativos más comunes: Windows, macOS y Linux.
            </p>
            <p>
              Ante cualquier duda, puedes comunicarte con el profesor 
              <a href="mailto:maria.lopez@educacionit.com" style="text-decoration: none; color: #0d6efd; display: inline-flex; align-items: center; gap: 5px;">
                <i class="bi bi-envelope-fill"></i> maria.lopez@educacionit.com
              </a>
            </p>
          </div>
        </div>`
      },
      {
        titulo: "Operadores Lógicos y de Comparación",
        contenido: `
        <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/TONhzLxD9WM" title="Video Operadores Lógicos y de Comparación" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container">
            <h3>¿Qué aprenderás?</h3>
            <p>Los operadores lógicos y de comparación son herramientas fundamentales en Python que nos permiten tomar decisiones y controlar el flujo de nuestro código. Se utilizan para comparar valores, combinar condiciones y determinar si ciertas afirmaciones son verdaderas o falsas, lo que resulta esencial para implementar estructuras de control como if, else y elif.</p>
          </div>
        </div>`
      }
    ]
  },
  {
    titulo: "Módulo 2: Variables y Tipos",
    temas: [
      {
        titulo: "Variables",
        contenido: `
        <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/XqWEAM3MAYE" title="Video Variables" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container">
            <h3>¿Qué aprenderás?</h3>
            <p>En este tema aprenderás a declarar y usar variables en Python, uno de los conceptos fundamentales de cualquier lenguaje de programación. Las variables son espacios en la memoria donde podemos almacenar información, como números, texto, valores booleanos o colecciones de datos, y manipularla a lo largo de nuestro programa.</p>
          </div>
        </div>`
      },
      {
        titulo: "Tipos de datos",
        contenido: `
        <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/lqowuoM4OJg" title="Video Tipos de Datos" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container">
            <h3>¿Qué aprenderás?</h3>
            <p>En Python, los tipos de datos son fundamentales para almacenar y manipular información de manera eficiente. Cada variable tiene un tipo que determina qué valores puede almacenar y qué operaciones se le pueden aplicar. Conocer los tipos básicos te permitirá escribir programas correctos y más fáciles de entender.</p>
          </div>
        </div>`
      }
    ]
  },
  {
    titulo: "Módulo 3: Condicionales y Listas",
    temas: [
      {
        titulo: "Condicionales",
        contenido: `
        <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/lLLr34ZDEJ4" title="Video Condicionales" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container">
            <h3>¿Qué aprenderás?</h3>
            <p>Los condicionales en Python son una de las herramientas fundamentales para tomar decisiones dentro de un programa. Permiten que tu código reaccione de manera diferente según ciertas condiciones, haciendo posible implementar lógica dinámica y comportamientos distintos según los valores de las variables o las entradas del usuario.</p>
          </div>
        </div>`
      },
      {
        titulo: "Listas",
        contenido: `
        <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/lLLr34ZDEJ4" title="Video Listas" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container">
            <h3>¿Qué aprenderás?</h3>
            <p>En Python, las listas son uno de los tipos de datos más versátiles y utilizados. Permiten almacenar colecciones de elementos ordenados, que pueden ser de cualquier tipo de dato: números, cadenas de texto, valores booleanos, e incluso otras listas. Aprender a trabajar con listas es fundamental para gestionar datos de manera eficiente y construir programas dinámicos y flexibles.</p>
          </div>
        </div>`
      }
    ]
  },
  {
    titulo: "Módulo 4: Diccionarios y Tuplas",
    temas: [
      {
        titulo: "Diccionarios",
        contenido: `
        <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/IvxqTo6QBMU" title="Video Diccionarios" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container">
            <h3>¿Qué aprenderás?</h3>
            <p>Los diccionarios son una estructura de datos fundamental en Python que permiten almacenar información en pares clave-valor, lo que facilita el acceso rápido y la organización eficiente de datos. A diferencia de las listas o tuplas, los diccionarios no están ordenados por posición, sino por claves únicas, lo que los convierte en una herramienta poderosa para representar relaciones, atributos de objetos o cualquier tipo de información que pueda asociarse con una clave.</p>
          </div>
        </div>`
      },
      {
        titulo: "Tuplas",
        contenido: `
        <div class="tema-contenido">
          <div class="video-container">
            <iframe src="https://www.youtube-nocookie.com/embed/jZjntRsHeRg" title="Video Tuplas" allowfullscreen></iframe>
          </div>
          <div class="descripcion-container">
            <h3>¿Qué aprenderás?</h3>
            <p>Las tuplas son una estructura de datos fundamental en Python que permiten almacenar colecciones de elementos ordenados, similares a las listas, pero con una diferencia clave: son inmutables, lo que significa que una vez creadas, sus elementos no pueden ser modificados, añadidos ni eliminados. Esta característica las hace ideales para representar datos que no deben cambiar a lo largo del programa y garantiza mayor seguridad y eficiencia en ciertas aplicaciones.</p>
          </div>
        </div>`
      }
    ]
  }
];



let moduloActual = 0;
let temaActual = 0;

const listaModulos = document.getElementById('lista-modulos');
const tituloLeccion = document.getElementById('titulo-leccion');
const contenidoLeccion = document.getElementById('contenido-leccion');
const btnSiguiente = document.getElementById('btn-siguiente');
const btnComenzar = document.getElementById('btn-comenzar');

// Inicializar estado de módulos y temas
curso.forEach((modulo, i) => {
  modulo.habilitado = false;
  modulo.temas.forEach((tema, j) => {
    tema.hecho = false;
    tema.habilitado = false; // controlar tema individual
  });
});

// Cargar módulos en sidebar
function cargarModulos() {
  listaModulos.innerHTML = "";
  curso.forEach((modulo, i) => {
    const li = document.createElement('li');
    li.classList.add('list-group-item');
    if(!modulo.habilitado) li.classList.add('deshabilitado');

    const todosHechos = modulo.temas.every(tema => tema.hecho);
    const iconoCheck = todosHechos ? `<i class="bi bi-check2 modulo-completo"></i>` : "";

    li.innerHTML = `
      <a class="modulo-link" data-bs-toggle="collapse" href="#modulo${i}" role="button" aria-expanded="false" aria-controls="modulo${i}">
        ${modulo.titulo} ${iconoCheck} <i class="bi bi-chevron-down"></i>
      </a>
      <ul class="list-group collapse" id="modulo${i}"></ul>
    `;
    listaModulos.appendChild(li);

    const ulTemas = li.querySelector('ul');
    modulo.temas.forEach((tema, j) => {
      const temaLi = document.createElement('li');
      temaLi.classList.add('list-group-item', 'tema-item');
      temaLi.textContent = tema.titulo;

      if(tema.habilitado) {
        temaLi.style.cursor = 'pointer';
        temaLi.style.opacity = '1';
        temaLi.onclick = () => mostrarTema(i, j);
      } else {
        temaLi.style.cursor = 'not-allowed';
        temaLi.style.opacity = '0.5';
      }

      ulTemas.appendChild(temaLi);
    });
  });

  // Mostrar botón Evaluación Final si todos los módulos están completos
  const todosCompletos = curso.every(mod => mod.temas.every(t => t.hecho));
  const btnEvaluacion = document.getElementById('btn-evaluacion');
  btnEvaluacion.style.display = todosCompletos ? 'block' : 'none';
}

// Mostrar tema
function mostrarTema(m, t) {
  if(!curso[m].habilitado || !curso[m].temas[t].habilitado) {
    alert("Debes completar los temas anteriores primero.");
    return;
  }

  moduloActual = m;
  temaActual = t;
  const tema = curso[m].temas[t];
  tituloLeccion.textContent = tema.titulo;

  // Mostrar el contenido de la lección sin incluir el botón PDF
  contenidoLeccion.innerHTML = tema.contenido;

  // Contenedor de botones debajo del contenido
  let botonesHTML = `<button class="btn btn-success" id="btn-hecho">Marcar como hecho</button>`;

  // Solo mostrar botón PDF si es Módulo 2 (índice 1) y Tema “Tipos de datos” (índice 1)
  if(m === 1 && t === 1) {
    botonesHTML += `<button class="btn btn-primary" id="btn-pdf" onclick="window.open('Material/EjerciciosPython.pdf', '_blank')">Ver PDF de práctica</button>`;
  }

  // Creamos el contenedor de botones fuera del marco blanco
  const contenedorBotones = document.createElement('div');
  contenedorBotones.id = 'botones-leccion';
  contenedorBotones.className = 'd-flex gap-2 mt-3 justify-content-end';
  contenedorBotones.innerHTML = botonesHTML;

  contenidoLeccion.appendChild(contenedorBotones);

  // Botón siguiente
  btnSiguiente.disabled = true;
  if(m === curso.length - 1 && t === curso[m].temas.length - 1){
    btnSiguiente.style.display = 'none'; // último tema del último módulo
  } else {
    btnSiguiente.style.display = 'inline-block';
    btnSiguiente.disabled = true;
  }

  // Evento del botón "Marcar como hecho"
  document.getElementById('btn-hecho').onclick = () => marcarComoHecho(m, t);
}

// Marcar tema como hecho
function marcarComoHecho(m, t) {
  curso[m].temas[t].hecho = true;
  btnSiguiente.disabled = false;

  // desbloquear siguiente tema dentro del mismo módulo
  if(t + 1 < curso[m].temas.length) {
    curso[m].temas[t + 1].habilitado = true;
  } else if(m + 1 < curso.length) {
    // desbloquear siguiente módulo y su primer tema
    curso[m + 1].habilitado = true;
    curso[m + 1].temas[0].habilitado = true;
  }

  cargarModulos();
}

// Botón siguiente
function siguienteTema() {
  if(temaActual < curso[moduloActual].temas.length - 1){
    mostrarTema(moduloActual, temaActual + 1);
  } else if(moduloActual < curso.length - 1){
    mostrarTema(moduloActual + 1, 0);
  } else {
    btnSiguiente.disabled = true;
  }
}

// Botón comenzar
btnComenzar.onclick = () => {
  document.getElementById('pantalla-inicial').style.display = 'none';
  document.getElementById('contenido-curso').style.display = 'block';
  curso[0].habilitado = true;
  curso[0].temas[0].habilitado = true; // desbloquea el primer tema
  cargarModulos();
  mostrarTema(0,0);
};

// Inicializar sidebar
cargarModulos();
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
